# ðŸš€ Deployment Guide: AI Tool Marketplace

Since your project consists of a **Next.js Frontend** and a **FastAPI Backend (with Playwright)**, the best deployment strategy is a **Hybrid Approach**.

> [!IMPORTANT]
> **Why not Vercel for everything?**
> Your backend uses `playwright` (headless browser automation), which requires system binaries that exceed Vercel's serverless function size limits (50MB). Therefore, we will deploy the backend to a provider that supports Docker containers.

## ðŸ—ï¸ Architecture

1.  **Frontend**: Deployed on **Vercel** (Best for Next.js).
2.  **Backend & DB**: Deployed on **Render** or **Railway** (Excellent Docker & Database support).

---

## 1. Backend Deployment (Render.com)

We deploy the backend first to get the URL for the frontend.

### Steps
1.  **Push your code to GitHub** (if not already there).
2.  **Sign up/Login to [Render.com](https://render.com)**.
3.  **Create a New Web Service**:
    *   Connect your GitHub repository.
    *   **Root Directory**: `backend`
    *   **Runtime**: `Docker` (This allows Playwright to work).
    *   **Plan**: Free (or Starter if you need more RAM for Playwright).
4.  **Environment Variables** (Add these in Render Dashboard):
    *   `OPENAI_API_KEY`: Your OpenAI Key
    *   `DATABASE_URL`: *See Database Section below*
    *   `PORT`: `8000` (Default for your internal uvicorn)

### Database (PostgreSQL)
*   **On Render**: Click "New +â€ -> "PostgreSQL".
*   Copy the `Internal Database URL` for the Backend Service (if both on Render).
*   Copy the `External Database URL` to use locally or if exploring table data.

> [!NOTE]
> Once deployed, Render will give you a backend URL (e.g., `https://ai-marketplace-backend.onrender.com`). **Save this.**

---

## 2. Frontend Deployment (Vercel)

Now we deploy the UI and connect it to the backend.

### Steps
1.  **Install Vercel CLI** (Optional, or use Dashboard):
    ```bash
    npm install -g vercel
    ```
2.  **Deploy from Project Root**:
    *   Go to `frontend/` directory.
    *   Run: `vercel`
3.  **Configure Project** (Vercel will prompt you):
    *   **Framework**: Next.js (Auto-detected)
    *   **Root Directory**: `frontend`
4.  **Environment Variables**:
    *   Go to Vercel Dashboard -> Settings -> Environment Variables.
    *   Add `NEXT_PUBLIC_API_URL`: `https://ai-marketplace-backend.onrender.com` (The URL from Step 1).
    *   *Note: Ensure your frontend code uses this variable for API calls!*

---

## 3. Connect Frontend to Backend

In your frontend code (`frontend/src/...`), check where you define the API base URL. It should look like this:

```typescript
// frontend/src/lib/api.ts or similar
export const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';
```

If it's hardcoded to localhost, we need to change it to use the environment variable.

---

## ðŸš¦ Verification
1.  Open your **Vercel Deployment URL**.
2.  Try to **Login** or **Fetch Tools**.
3.  Check Network Tab for requests to your Render Backend.
